function timestamp(e){var t=Date.parse(e);return t/1e3}function dateFormatTime(e,t){date=new Date(1e3*parseInt(e));var o={M:date.getMonth()+1,d:date.getDate(),h:date.getHours(),m:date.getMinutes(),s:date.getSeconds(),q:Math.floor((date.getMonth()+3)/3),S:date.getMilliseconds()};return t=t.replace(/([yMdhmsqS])+/g,function(e,t){var n=o[t];return void 0!==n?(e.length>1&&(n="0"+n,n=n.substr(n.length-2)),n):"y"===t?(date.getFullYear()+"").substr(4-e.length):e})}function checkMobile(e){var t=/^(1(([34578][0-9])|(47)))\d{8}$/;return!!t.test(e)}function isWeiXin(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)}function checkCode(e){var t=/^\d{6}$/;return!!t.test(e)}function getLocalTime(e,t){return void 0==t&&(t="yyyy-MM-dd hh:mm:ss"),new Date(parseInt(e)).Format(t).toLocaleString().replace(/:\d{1,2}$/," ")}function myMsg(e,t){void 0==t&&(t=1e3);var o="";o+='<div class="my-dimmer_msg" ></div> \t\t\t<div class="my-modal_msg"> \t\t\t\t<div class="my-modal-dialog am-radius-10"> \t\t\t\t\t<div class="my-modal_msg-hd">'+e+"</div> \t\t\t\t</div> \t\t\t</div>",$("body").append(o),$(".my-modal").css("marginTop",-$(".my-modal").height()/2),$(".my-modal_msg").fadeOut(t),$(".my-dimmer_msg").fadeOut(t)}function myAlert(e,t,o){var n="";n+='<div class="my-dimmer" ></div> \t\t\t<div class="my-modal"> \t\t\t\t<div class="my-modal-dialog am-radius-10"> \t\t\t\t\t<div class="my-modal-hd">'+e+'</div> \t\t\t\t\t<div class="my-modal-bd">'+t+' </div> \t\t\t\t\t<div class="my-modal-footer"> \t\t\t\t\t\t<span class="my-modal-btn">确定</span> \t\t\t\t\t</div> \t\t\t\t</div> \t\t\t</div>',$("body").append(n),$(".my-modal").css("marginTop",-$(".my-modal").height()/2),$(".my-modal-btn").one("click",function(){void 0!=o&&o(),closeAlert()}),$("input[type=text],textarea,[type=search]").bind("input",filterIcon)}function closeAlert(){$(".my-modal").remove(),$(".my-dimmer").remove()}function cutOut(e){return e.length>6&&(e=e.substr(0,3)+"***"+e.substr(e.length-3)),e}function myConfirm(e,t,o,n,i,a,r){void 0==i&&(i="确定"),void 0==a&&(a="取消");var l="";l+='<div class="my-dimmer" ></div><div class="my-modal">\t<div class="my-modal-dialog am-radius-10">\t\t<div class="my-modal-hd">'+e+'</div>\t\t<div class="my-modal-bd">'+t+' </div>\t\t<div class="my-modal-footer">\t\t\t<span class="my-modal-btn border-right-default close">'+a+'</span>\t\t\t<span class="my-modal-btn ok">'+i+"</span>\t\t</div>\t</div></div>",$("body").append(l),$(".my-modal").css("marginTop",-$(".my-modal").height()/2),$(".ok").bind("click",function(){(void 0==r||(console.log(),r()))&&(void 0!=o&&o(),closeAlert())}),$(".close").one("click",function(){void 0!=n&&n(),closeAlert()}),$("input[type=text],textarea,[type=search]").bind("input",filterIcon)}function checkPassword(e){var t=/^[\@A-Za-z0-9\!\#\$\%\^\&\*\.\~]{6,12}$/;return!!t.test(e)}function checkIdcard(e){var t=new Array("7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"),o=new Array("1","0","X","9","8","7","6","5","4","3","2");e+="";for(var n=e.substr(0,17),i=e.substr(17),a=0,r=0;r<17;r++){if(n.charAt(r)<"0"||n.charAt(r)>"9")return!1;a+=parseInt(n.charAt(r))*parseInt(t[r])}var l=parseInt(a)%11;return o[l]==i}function checkName(e){var t=/^\s*[\u4e00-\u9fa5]{1,}[\u4e00-\u9fa5.·]{0,15}[\u4e00-\u9fa5]{1,}\s*$/;return!!t.test(e)}function stringToDate(e){var t=Date.parse(e),o=new Date(t);if(isNaN(o)){var n=e.split("-");o=new Date(n[0],(--n[1]),n[2])}return o}function addDate(e,t){var o=new Date(e.replace(/-/g,"/"));o.setDate(o.getDate()+t);var n=o.getMonth()+1;n<10&&(n="0"+n);var i=o.getDate();return i<10&&(i="0"+i),o.getFullYear()+"-"+n+"-"+i}function find(e,t,o){var n;void 0===o&&(o="");for(var i in e){var a=e[i];if(a.value==t){n=o+a.text;break}if(a.hasOwnProperty("children")&&(n=find(a.children,t,o+a.text+"-")))break}return n}function find2(e,t,o){var n;void 0===o&&(o="");for(var i in e){var a=e[i];if(a.value==t){n=o+a.text;break}if(a.hasOwnProperty("children")&&(n=find(a.children,t,o)))break}return n}function filterUrl(e){var t=/^https?:\/\/(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9_-](\?)?)*)*$/i;return!!e.match(t)}!function(e,t){function o(){var t=a.getBoundingClientRect().width;t/s>540&&(t=540*s);var o=t/10;a.style.fontSize=o+"px",c.rem=e.rem=o}var n,i=e.document,a=i.documentElement,r=i.querySelector('meta[name="viewport"]'),l=i.querySelector('meta[name="flexible"]'),s=0,d=0,c=t.flexible||(t.flexible={});if(r){console.warn("将根据已有的meta标签来设置缩放比例");var m=r.getAttribute("content").match(/initial\-scale=([\d\.]+)/);m&&(d=parseFloat(m[1]),s=parseInt(1/d))}else if(l){var u=l.getAttribute("content");if(u){var g=u.match(/initial\-dpr=([\d\.]+)/),v=u.match(/maximum\-dpr=([\d\.]+)/);g&&(s=parseFloat(g[1]),d=parseFloat((1/s).toFixed(2))),v&&(s=parseFloat(v[1]),d=parseFloat((1/s).toFixed(2)))}}if(!s&&!d){var f=e.navigator.userAgent,p=(!!f.match(/android/gi),!!f.match(/iphone/gi)),h=p&&!!f.match(/OS 9_3/),y=e.devicePixelRatio;s=p&&!h?y>=3&&(!s||s>=3)?3:y>=2&&(!s||s>=2)?2:1:1,d=1/s}if(a.setAttribute("data-dpr",s),!r)if(r=i.createElement("meta"),r.setAttribute("name","viewport"),r.setAttribute("content","initial-scale="+d+", maximum-scale="+d+", minimum-scale="+d+", user-scalable=no"),a.firstElementChild)a.firstElementChild.appendChild(r);else{var b=i.createElement("div");b.appendChild(r),i.write(b.innerHTML)}e.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(o,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(n),n=setTimeout(o,300))},!1),"complete"===i.readyState?i.body.style.fontSize=12*s+"px":i.addEventListener("DOMContentLoaded",function(){i.body.style.fontSize=12*s+"px"},!1),o(),c.dpr=e.dpr=s,c.refreshRem=o,c.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},c.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={})),Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e};var app=angular.module("angularMobileApp",["ngRoute","ui.router","mobile-angular-ui","commonModule"]);app.config(["$routeProvider",function(e){}]).run(["$rootScope","$state","$urlRouter",function(e,t,o){console.log("run ..."),console.log(e),console.log(t),console.log(o)}]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/index"),e.state("home",{url:"/home",templateUrl:"views/main.html"}).state("tabs",{url:"/tabs",templateUrl:"views/tab.html"}).state("index",{url:"/index",views:{"":{templateUrl:"views/main.html"}}}).state("iscoll",{url:"/iscoll",templateUrl:"views/iscoll.html",controller:"mainCtrl"}).state("toggle",{url:"/toggle",templateUrl:"views/toggle.html"})}]),function(){function e(e,t,o,n,i){console.log("this is main ctrl"),console.log(o.name),e.demo=function(){this.items=[]},e.list=[];for(var a=0;a<100;a++)e.list.push("item"+a);e.demo.items=e.list,e.loadMove=function(){t(function(){for(var t=101;t<130;t++)e.demo.items.push("item"+t)},2e3)};var r=n.query();r.then(function(t){console.log(t),e.data=t.body,console.log("lai  kankan")},function(e){console.log("kan  mao xian ")});var l=n.asyncGreet("ronbin hello");l.then(function(e){console.log("sucess"+e)},function(e){console.log("eorr"+e)}),console.log("test  我不是 最后打印的"),console.log(i),i.initialize(e,"myId",{defaultValue:"wodetian "}),i.initialize(e,"myId2",{defaultValue:"myid2"});var s=i.get("myId");console.log(s),i.setOne("myId","xiug"),console.log(i.get("myId")),i.setMany({myId:"wocao",myId2:"wocao2"}),console.log(i.get("myId")),i.set({myId:"1"}),console.log(i.get("myId")),i.turnOn("myId"),console.log(i.get("myId")),i.turnOff("myId"),console.log(i.get("myId")),console.log(i.active("myId")),console.log(i.isUndefined("myId3")),console.log(i.has("myId3")),console.log(i.referenceCount("myId2")+"count"),i.setOne("myId","test"),console.log(i.eq("myId","test")),console.log(i.values()),i.set("myId",!1),e.$on("mobile-angular-ui.state.changed.myId",function(e,t,o){console.log(e),t===!0?console.log("sidebar opened"):console.log("sidebar closed")}),console.log("=================="),i.initialize(e,"myId3"),i.setOne("myId3","asdf"),console.log(i.get("myId3")),e.outerClick=function(){console.log("this is outer click ???")}}app.controller("mainCtrl",["$scope","$timeout","testService","getJsonService","SharedState",e])}();var commonModule=angular.module("commonModule",[]);commonModule.config(["$provide",function(e){console.log("this is commonConfig"),e.factory("testService",["$http",function(e){console.log("this is test server");var t={name:"yijiaqing",age:"22",sex:"1"};return t}]),e.service("getJsonService",["$http","$q",function(e,t){return{query:function(){var o=t.defer();return e({method:"GET",url:"json/test1.json"}).success(function(e,t,n,i){console.log("success"),console.log(e),o.resolve(e)}).error(function(){console.log("error")}),o.promise},asyncGreet:function(e){return t(function(t,o){setTimeout(function(){t("Hello, "+e+"!")},1e3)})}}}])}]),app.directive("myDirective",function(){return{link:function(e,t){}}});